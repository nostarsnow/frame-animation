(function(e){function t(t){for(var a,r,s=t[0],c=t[1],l=t[2],u=0,f=[];u<s.length;u++)r=s[u],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&f.push(o[r][0]),o[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);d&&d(t);while(f.length)f.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,r=1;r<n.length;r++){var s=n[r];0!==o[s]&&(a=!1)}a&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},r={app:0},o={app:0},i=[];function s(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-5a47778b":"ea962e45"}[e]+".js"}function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-5a47778b":1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var a="css/"+({}[e]||e)+"."+{"chunk-5a47778b":"922fd10f"}[e]+".css",o=c.p+a,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var l=i[s],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===a||u===o))return t()}var f=document.getElementsByTagName("style");for(s=0;s<f.length;s++){l=f[s],u=l.getAttribute("data-href");if(u===a||u===o)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var a=t&&t.target&&t.target.src||o,i=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=a,delete r[e],d.parentNode.removeChild(d),n(i)},d.href=o;var p=document.getElementsByTagName("head")[0];p.appendChild(d)})).then((function(){r[e]=0})));var a=o[e];if(0!==a)if(a)t.push(a[2]);else{var i=new Promise((function(t,n){a=o[e]=[t,n]}));t.push(a[2]=i);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=s(e);var f=new Error;l=function(t){u.onerror=u.onload=null,clearTimeout(d);var n=o[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;f.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",f.name="ChunkLoadError",f.type=a,f.request=r,n[1](f)}o[e]=void 0}};var d=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="https://static.zuhaowan.com/static/zhwfe/static/nostar/frame-animation/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var f=0;f<l.length;f++)t(l[f]);var d=u;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0819":function(e,t,n){"use strict";var a=n("f0a0"),r=n.n(a);r.a},1:function(e,t){},2:function(e,t){},3:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);n("e18c"),n("96db"),n("af86"),n("f1a9"),n("a2c8"),n("2984");var a=n("6784"),r=n.n(a),o=(n("26fe"),n("7c18")),i=n.n(o),s=(n("4f55"),n("c944")),c=n.n(s),l=(n("b764"),n("77bb")),u=n.n(l),f=(n("3dca"),n("25f9")),d=n.n(f),p=(n("7dc0"),n("041b")),m=n.n(p),h=(n("d06c"),n("7763")),g=n.n(h),v=(n("32de"),n("8d99")),w=n.n(v),b=(n("a68a"),n("230e")),y=n.n(b),x=(n("dc0a"),n("679e")),_=n.n(x),C=(n("4644"),n("7668")),k=n.n(C),S=(n("e8bd"),n("3f00")),T=n.n(S),$=(n("a133"),n("ed0d"),n("f09c"),n("e117"),n("a593")),O=n("9306"),j=n.n(O),A=n("1b53"),E=n.n(A);E.a.registerLanguage("xml",n("e44b")),E.a.registerLanguage("css",n("ddc5")),E.a.registerLanguage("javascript",n("bffc"));var L={install:function(e){e.directive("highlightjs",{deep:!0,bind:function(e,t){var n,a,r=e.querySelectorAll("code");for(a=0;a<r.length;a+=1)n=r[a],"string"===typeof t.value&&(n.textContent=t.value),E.a.highlightBlock(n)},componentUpdated:function(e,t){var n,a,r=e.querySelectorAll("code");for(a=0;a<r.length;a+=1)n=r[a],"string"===typeof t.value&&(n.textContent=t.value,E.a.highlightBlock(n))}})}},P=L,I=(n("5233"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app",attrs:{id:"app"}},[n("Index")],1)}),F=[],B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"index"},[n("h1",[e._v("ns frame by frame animation - 逐帧动画生成器")]),e._m(0),n("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,"label-width":"200px"}},[n("el-form-item",{attrs:{label:"请选择图片类型："}},[n("el-radio-group",{on:{change:e.typeChange},model:{value:e.sourceType,callback:function(t){e.sourceType=t},expression:"sourceType"}},[n("el-radio",{attrs:{label:"png"}},[e._v("png文件夹")]),n("el-radio",{attrs:{label:"gif"}},[e._v("gif图片")])],1)],1),n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"png"===e.sourceType,expression:"sourceType === 'png'"}],attrs:{label:"请选择png文件夹："}},[n("div",{staticClass:"upload-box upload-png"},[n("input",{ref:"uploadPng",attrs:{type:"file",webkitdirectory:""}}),n("div",{staticClass:"text"},[n("el-button",{attrs:{type:"primary",circle:"",icon:"el-icon-upload"}}),n("span",{staticClass:"tip"},[e.form.files.length>0?n("span",[e._v(" 已选 "),n("el-tag",{attrs:{type:"warning"}},[e._v(e._s(e.form.files.length)+" 张png图片")])],1):n("span",[e._v("请选择包含所有帧图片的文件夹。")])])],1),n("div",{staticClass:"text"},[n("span",{staticClass:"tip"},[e._v("自动排序方式为png图片名称过滤非数字字符后正序")])])])]),n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"gif"===e.sourceType,expression:"sourceType === 'gif'"}],attrs:{label:"请选择gif文件："}},[n("div",{staticClass:"upload-box upload-gif"},[n("input",{ref:"uploadGif",attrs:{type:"file",accept:"image/gif"}}),n("div",{staticClass:"text"},[n("el-button",{attrs:{type:"primary",circle:"",icon:"el-icon-upload2"}}),n("span",{staticClass:"tip"},[e.form.files.length>0?n("span",[e._v(" "+e._s(e.gifValue)+"。已选 "),n("el-tag",{attrs:{type:"warning"}},[e._v(e._s(e.form.files.length)+" 帧")])],1):n("span",[e._v("请选择gif图片。")])])],1)])]),n("el-form-item",{attrs:{label:"雪碧图每行个数："}},[n("el-tag",{staticClass:"min",on:{click:e.min}},[e._v("最小")]),n("el-input-number",{attrs:{size:"mini",min:1,disabled:e.colDisabled},model:{value:e.form.col,callback:function(t){e.$set(e.form,"col",t)},expression:"form.col"}}),n("el-tag",{staticClass:"max",on:{click:e.max}},[e._v("最大")]),e.form.files.length?n("span",{staticClass:"tip"},[e._v(" 共生成"+e._s(e.rows)+"行"+e._s(e.cols)+"列 ")]):e._e()],1),n("el-form-item",{attrs:{label:"动画帧数："}},[n("el-input-number",{attrs:{size:"mini",min:1},model:{value:e.form.frame,callback:function(t){e.$set(e.form,"frame",t)},expression:"form.frame"}}),n("el-tooltip",{staticStyle:{margin:"0 5px"},attrs:{content:"每秒多少帧/张图片。数字越小动画效果越差。问UI",placement:"top"}},[n("i",{staticClass:"el-icon-question"})]),e.form.files.length?n("span",{staticClass:"tip"},[e._v(" 动画时间约为"+e._s(e.duration)+"毫秒 ")]):e._e()],1),n("el-form-item",{attrs:{label:"渲染方式："}},[n("el-radio-group",{on:{change:e.renderTypeChange},model:{value:e.form.renderType,callback:function(t){e.$set(e.form,"renderType",t)},expression:"form.renderType"}},[n("el-radio",{attrs:{label:"css"}},[e._v("css")]),n("el-radio",{attrs:{label:"js"}},[e._v("js")]),n("el-radio",{attrs:{label:"canvas"}},[e._v("canvas")])],1)],1),n("el-form-item",{attrs:{label:"循环播放："}},[n("div",[n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.form.loop,callback:function(t){e.$set(e.form,"loop",t)},expression:"form.loop"}}),n("el-tooltip",{staticStyle:{margin:"0 10px 0 5px"},attrs:{content:"播放只有1次和无数次",placement:"top"}},[n("i",{staticClass:"el-icon-question"})]),e.form.files.length>0?n("el-button",{staticClass:"show-view",on:{click:function(t){e.isShowModal=!0}}},[e._v("查看所有的帧图片")]):e._e()],1)]),n("el-form-item",{staticClass:"el-form-btn"},[n("el-button",{style:{width:"300px",marginTop:"10px"},attrs:{type:e.loading?"info":"primary",loading:e.loading},on:{click:e.onSubmit}},[e._v(e._s(e.loading?"正在生成...":"立即生成"))])],1)],1),e.result.html?n("div",{staticClass:"result"},[n("hr"),n("div",{staticClass:"img"},[n("div",{staticClass:"l"},[n("img",{attrs:{src:e.result.image},on:{click:e.onSave}})]),n("div",{staticClass:"r"},[n("p",[e._v("图片名称："+e._s(e.result.filename))]),n("p",[e._v("图片大小：约"+e._s(e.result.fileSize)+"KB")]),n("p",[e._v("图片尺寸："+e._s(e.result.fullWidth)+"px × "+e._s(e.result.fullHeight)+"px")]),n("p",[e._v(" 图片行列："+e._s(e.result.rows)+"行"+e._s(e.result.cols)+"列，共"+e._s(e.result.files.length)+"帧 ")]),n("p",[e._v("每秒帧数："+e._s(e.result.frame))]),n("p",[e._v("每帧尺寸："+e._s(e.result.width)+"px × "+e._s(e.result.height)+"px")]),n("p",[e._v("动画时长："+e._s(e.result.duration)+"毫秒")]),n("p",[e._v("是否循环："+e._s(e.result.loop?"循环播放":"播放一次"))]),n("div",{staticClass:"save-box"},[n("el-tooltip",{attrs:{content:"如果图片太大点击按钮无法保存，请自行在左侧图片区域右击另存为，然后改名",placement:"top"}},[n("el-button",{attrs:{type:"primary",icon:"el-icon-download"},on:{click:e.onSave}},[e._v("保存图片")])],1),n("a",{attrs:{href:"https://tinypng.com/",target:"_blank"}},[e._v("压缩图片")])],1)])]),n("CodeView",{attrs:{code:e.result.html}}),n("div",{staticClass:"iframe"},[n("h3",[e._v("预览：")]),n("iframe",{ref:"iframe",attrs:{src:"about:blank",width:e.result.width+"px",height:e.result.height+"px"}})])],1):e._e(),e.isShowModal?n("FrameModal",{attrs:{files:e.form.files},on:{close:function(t){e.isShowModal=!1}}}):e._e()],1)},D=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h2",[e._v("推荐使用chrome及同内核浏览器访问 "),n("iframe",{attrs:{src:"https://ghbtns.com/github-btn.html?user=nostarsnow&repo=frame-animation&type=star&count=true&size=large&v=2",frameborder:"0",scrolling:"0",width:"160px",height:"30px"}})])}],M=(n("b4fb"),n("dbb3"),n("fe59"),n("2eeb"),n("053b"),n("20a5"),n("e35a"),n("5e9f"),n("0d7a"),n("08ba"),n("5412")),R=n.n(M),q=(n("6a61"),n("cf7f")),N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"code-view"},[n("pre",{directives:[{name:"highlightjs",rawName:"v-highlightjs",value:e.formatCode,expression:"formatCode"}]},[n("code",{staticClass:"html"})]),n("div",{staticClass:"icons"},[n("el-tooltip",{attrs:{content:e.copyed?"复制成功！":"复制代码"}},[n("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.formatCode,expression:"formatCode",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"}],staticClass:"copy el-icon-document-copy",attrs:{type:"copy"}})]),e.showDownload?n("el-tooltip",{attrs:{content:"下载代码"}},[n("i",{staticClass:"download el-icon-download",attrs:{type:"download"},on:{click:e.download}})]):e._e()],1)])},U=[],H={name:"code-view",props:{code:{},showDownload:{default:function(){return!0}}},data:function(){return{copyed:!1}},methods:{onCopy:function(){var e=this;this.copyed=!0,setTimeout((function(){e.copyed=!1}),3e3)},download:function(){this.$download(this.formatCode,"index.html",!0)}},computed:{formatCode:function(){return this.code}}},z=H,W=(n("f4a6"),n("9ca4")),G=Object(W["a"])(z,N,U,!1,null,"936e06ec",null),J=G.exports,V=n("5d36").MultiRange,K=n("3ea1"),Q=n("0e81");function X(e,t){return e=e||{},t=t||function(){},new Promise((function(t,n){var a=e.url;if(a){var r=e.frames;if(r||0===r){var o=e.outputType||"jpg",i=e.quality,s=e.cumulative,c="all"===r?"all":new V(r),l="undefined"===typeof window?"image/gif":".GIF";K(a,l,(function(e,a,r){if(e)n(e);else if(a.shape.length<4)n(new Error('"url" input should be multi-frame GIF.'));else{for(var l=[],u=0,f=0;f<a.shape[0];f++)("all"===c||c.has(f))&&function(e){l.push({getImage:function(){if(s&&e>u){for(var t=a.pick(u),n=u+1;n<=e;n++){for(var r=a.pick(n),c=0;c<r.shape[0];c++)for(var l=0;l<r.shape[1];l++)0===r.get(c,l,3)&&(r.set(c,l,0,t.get(c,l,0)),r.set(c,l,1,t.get(c,l,1)),r.set(c,l,2,t.get(c,l,2)),r.set(c,l,3,t.get(c,l,3)));t=r}u=e}return Q(a.pick(e),o,{quality:i})},frameIndex:e,frameInfo:r&&r[e]})}(f);t(l)}}))}else n(new Error('"frames" option is required.'))}else n(new Error('"url" option is required.'))}))}var Y={name:"ns-frame-animation",data:function(){var e={files:[],col:7,renderType:"css",frame:25,loop:!0};return{form:e,formStr:JSON.stringify(e),colDisabled:!1,sourceType:"png",gifValue:"",loading:!1,isShowModal:!1,result:{}}},mounted:function(){this.initUpload()},methods:{onSubmit:function(){var e=this;return Object(q["a"])(R.a.mark((function t(){var n;return R.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.form,!(n.files.length<1)){t.next=4;break}return"png"===e.sourceType?e.$notify.error("请选择png文件夹并保证文件夹下存在png图片！"):e.$notify.error("请选择gif图片！"),t.abrupt("return",!1);case 4:if(e.loading=!0,e.generate(e.form.files),6!==e.result.image.length){t.next=11;break}return e.$notify.error({message:"生成失败！最终图片宽高度(".concat(e.result.fullWidth,"*").concat(e.result.fullHeight,")大于浏览器最大限制16380*16380，请更换渲染方式或每行个数调整后再重新生成！"),duration:1e4}),e.loading=!1,e.result={},t.abrupt("return");case 11:e.$notify.success("生成成功！"),e.loading=!1,e.$nextTick((function(){e.$refs.iframe.contentWindow.document.body.innerHTML="",e.$refs.iframe.contentWindow.document.write("<style>*{padding:0;margin:0;}</style>"+e.result.html.replace("./".concat(e.result.filename),e.result.image))}));case 14:case"end":return t.stop()}}),t)})))()},formatPng:function(e){var t=this;return Object(q["a"])(R.a.mark((function n(){return R.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Promise.all(e.map(function(){var e=Object(q["a"])(R.a.mark((function e(n){var a,r;return R.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getFileClientRect(n);case 2:return a=e.sent,e.next=5,t.getFileBase64(n);case 5:return r=e.sent,e.abrupt("return",{name:n.name,img:a,width:a.width,height:a.height,data:r});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()},formatGif:function(e){var t=this;return Object(q["a"])(R.a.mark((function n(){var a;return R.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.getFileBase64(e);case 2:return a=n.sent,n.abrupt("return",new Promise((function(e){X({url:a,frames:"all",outputType:"canvas",cumulative:!0}).then(function(){var n=Object(q["a"])(R.a.mark((function n(a){return R.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.t0=e,n.t1=~~(100/a[0].frameInfo.delay),n.next=4,Promise.all(a.map(function(){var e=Object(q["a"])(R.a.mark((function e(n,a){var r,o;return R.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=n.getImage().toDataURL(),e.next=3,t.getBase64ClientRect(r);case 3:return o=e.sent,e.abrupt("return",{name:a+1,img:o,width:o.width,height:o.height,data:r});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 4:n.t2=n.sent,n.t3={frame:n.t1,files:n.t2},(0,n.t0)(n.t3);case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch(console.error.bind(console))})));case 4:case"end":return n.stop()}}),n)})))()},getFileClientRect:function(e){return new Promise((function(t){var n=new Image;n.src=URL.createObjectURL(e),n.onload=function(e){t(n)}}))},getBase64ClientRect:function(e){return new Promise((function(t){var n=new Image;n.src=e,n.onload=function(e){t(n)}}))},getFileBase64:function(e){return new Promise((function(t){var n=new FileReader;n.readAsDataURL(e),n.onload=function(e){t(e.target.result)}}))},typeChange:function(){this.form=JSON.parse(this.formStr),this.colDisabled=!1,this.isShowModal=!1},renderTypeChange:function(){this.uploaded()},initUpload:function(){var e=this,t=this.$refs.uploadGif,n=this.$refs.uploadPng;t.addEventListener("change",function(){var t=Object(q["a"])(R.a.mark((function t(n){var a,r;return R.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(/\.gif$/i.test(this.value)){t.next=3;break}return e.$msg.error("请上传正确的gif图片！"),t.abrupt("return");case 3:return e.gifValue=this.value,a=n.target.files[0],t.next=7,e.formatGif(a);case 7:r=t.sent,e.form.frame=r.frame,e.form.files=r.files,e.uploaded(),this.value="";case 12:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()),n.addEventListener("change",function(){var t=Object(q["a"])(R.a.mark((function t(n){var a;return R.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=[].filter.call(n.target.files,(function(e){return/\.png/.test(e.name)})).sort((function(e,t){var n=+e.name.replace(/\D/g,""),a=+t.name.replace(/\D/g,"");return n-a})),t.next=3,e.formatPng(a);case 3:e.form.files=t.sent,e.uploaded(),this.value="";case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}())},uploaded:function(){var e=this.form,t=e.col,n=e.files,a=e.renderType;t>n.length&&(t=n.length),"css"===a?(this.form.col=n.length,this.colDisabled=!0):this.colDisabled=!1,this.isShowModal=!1},min:function(){this.form.col=1},max:function(){this.form.col=this.form.files.length},generate:function(e){var t=this.form,n=this.cols,a=this.rows,r=this.duration,o=t.col,i=t.frame,s=t.loop,c=t.renderType,l=e[0],u=l.width,f=l.height,d=document.createElement("canvas"),p=u*n,m=f*a;d.setAttribute("width",p),d.setAttribute("height",m),d.style.width=p+"px",d.style.height=m+"px";var h=d.getContext("2d");e.forEach((function(e,t){h.drawImage(e.img,u*~~(t%o),f*~~(t/o),u,f)}));var g=d.toDataURL(),v="ns-frame-".concat(String(+new Date).substr(6)),w={image:g,name:v,filename:"".concat(v,".png"),fileSize:(window.atob(g.split(",")[1]).length/1024).toFixed(2),fullWidth:p,fullHeight:m,rows:a,cols:n,files:e,frame:i,loop:s,renderType:c,width:u,height:f,duration:r};w.html=this.generateHtml(w),this.result=w},generateHtml:function(e){return"css"===e.renderType?"<style>\n  .".concat(e.name,"{\n    width: ").concat(e.width,"px;\n    height: ").concat(e.height,"px;\n    background: url(./").concat(e.filename,") no-repeat 0 0;\n    background-size: ").concat(e.fullWidth,"px ").concat(e.fullHeight,"px;\n    animation: key-").concat(e.name," ").concat(e.duration,"ms ").concat(e.loop?"infinite ":"","steps(").concat(e.files.length,");\n  }\n  @keyframes key-").concat(e.name," {\n    0%{\n      background-position: 0 0;\n    }\n    100%{\n      background-position: ").concat(1===e.rows?"-"+e.fullWidth+"px 0":"0 -"+e.fullHeight+"px",';\n    }\n  }\n</style>\n<div class="').concat(e.name,'"></div>'):"js"===e.renderType?'<div class="'.concat(e.name,'" data-src="./').concat(e.filename,"\"></div>\n<script>\n  function nsFrameAnimationByJs(options){\n    var $box = options.box;\n    var src = $box.getAttribute('data-src');\n    var img = new Image();\n    img.src = src;\n    var width = options.width;\n    var height = options.height;\n    img.onload = function(){\n      $box.style.backgroundImage = 'url(' + src + ')';\n      $box.style.width = width + 'px';\n      $box.style.height = height + 'px';\n      frameAnim(0);\n    }\n    function frameAnim(index){\n      var position = (-width * ~~(index%options.cols)) + 'px ' + (-height * ~~(index/options.cols)) + 'px';\n      $box.style.backgroundPosition = position;\n      if ( ++index < options.framesLength ){\n        setTimeout(function(){\n          frameAnim(index)\n        }, 1000/options.framesOnSecond)\n      }else{\n        if ( options.loop ){\n          setTimeout(function(){\n            frameAnim(0)\n          }, 1000/options.framesOnSecond)\n        }\n      }\n    }\n  }\n  nsFrameAnimationByJs({\n    box: document.querySelector('.").concat(e.name,"'),\n    width: ").concat(e.width,",\n    height: ").concat(e.height,",\n    cols: ").concat(e.cols,",\n    framesLength: ").concat(e.files.length,",\n    framesOnSecond: ").concat(e.frame,",\n    loop: ").concat(e.loop,"\n  })\n<\/script>"):"canvas"===e.renderType?'<div class="'.concat(e.name,'" data-src="./').concat(e.filename,"\"></div>\n<script>\n  function nsFrameAnimationByCanvas(options){\n    var $box = options.box;\n    var src = $box.getAttribute('data-src');\n    var img = new Image();\n    img.src = src;\n    var width = options.width;\n    var height = options.height;\n    var canvas = document.createElement('canvas');\n    var ctx = canvas.getContext('2d');\n    img.onload = function(){\n      $box.style.width = width + 'px';\n      $box.style.height = height + 'px';\n      canvas.width = width;\n      canvas.height = height;\n      $box.appendChild(canvas);\n      frameAnim(0);\n    }\n    function frameAnim(index){\n      ctx.clearRect(0, 0, width, height);\n      ctx.drawImage(img,width * ~~(index%options.cols),height * ~~(index/options.cols),\n      width, height, 0, 0, width, height);\n      if ( ++index < options.framesLength ){\n        setTimeout(function(){\n          frameAnim(index)\n        }, 1000/options.framesOnSecond)\n      }else{\n        if ( options.loop ){\n          setTimeout(function(){\n            frameAnim(0)\n          }, 1000/options.framesOnSecond)\n        }\n      }\n    }\n  }\n  nsFrameAnimationByCanvas({\n    box: document.querySelector('.").concat(e.name,"'),\n    width: ").concat(e.width,",\n    height: ").concat(e.height,",\n    cols: ").concat(e.cols,",\n    framesLength: ").concat(e.files.length,",\n    framesOnSecond: ").concat(e.frame,",\n    loop: ").concat(e.loop,"\n  })\n<\/script>"):void 0},onSave:function(){var e=this.result,t=e.filename,n=e.image;this.$download(n,t),this.$notify.success("保存成功！")}},computed:{rows:function(){return~~(this.form.files.length/this.form.col)+ +!!~~(this.form.files.length%this.form.col)},cols:function(){return this.form.col},duration:function(){return(this.form.files.length/this.form.frame*1e3).toFixed(2)}},components:{CodeView:J,FrameModal:function(){return n.e("chunk-5a47778b").then(n.bind(null,"c85f"))}}},Z=Y,ee=Z,te=(n("0819"),Object(W["a"])(ee,B,D,!1,null,null,null)),ne=te.exports,ae={components:{Index:ne}},re=ae,oe=Object(W["a"])(re,I,F,!1,null,null,null),ie=oe.exports;$["default"].use(j.a),$["default"].use(P),$["default"].config.productionTip=!1,$["default"].useAll=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var a=0,r=t;a<r.length;a++){var o=r[a];$["default"].use(o)}};var se=$["default"].prototype;$["default"].useAll(T.a,k.a,_.a,y.a,w.a,g.a,m.a,d.a,u.a,c.a),se.$msg=i.a,se.$notify=r.a,$["default"].prototype.$download=function(e,t,n){var a=document.createElement("a");if(a.download=t,n){var r=new Blob([e]);a.href=window.URL.createObjectURL(r)}else a.href=e;a.click()},new $["default"]({render:function(e){return e(ie)}}).$mount("#app")},d0c7:function(e,t,n){},f0a0:function(e,t,n){},f4a6:function(e,t,n){"use strict";var a=n("d0c7"),r=n.n(a);r.a}});